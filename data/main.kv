#:import NoTransition kivy.uix.screenmanager.NoTransition
#:include 'data/performance.kv'
#:include 'data/navbar.kv'

MyScreenManager:
    transition: NoTransition()
    HomeScreen:
        id: home
    PerformanceHomeScreen:
        id: performance_home




<AppDashboard>:
    FloatLayout: 
        GridLayout:   
            cols: 4    
            row_force_default:True
            row_default_height:150
            col_default_width:150
            col_force_default:True
            spacing: 40, 40
            pos_hint: {'center_x': 0.11, 'center_y': .81}
            size_hint: (None, None)
            size_hint_y: None
            #performance app
            Button:
                id: performance-app-dashboard
                background_color:(0.9, 0.9, 0.9, 0.0)
                text: "\n\n\n\n\n\n\nPerformance"
                font_size: 18
                on_release:   
                    app.root.current = 'performance-home-screen'
                  
                    
                Image:
					source: 'data/icons/performance_app.png'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: 120, 120
                    allow_stretch: True

            Button:
                id: maintenance-app-dashboard
                background_color:(0.9, 0.9, 0.9, 0.0)
                text: "\n\n\n\n\n\n\nMaintainence"
                font_size: 18
                on_release:   
                    app.basic_popup("Feature Not Available", "This feature will be released in later builds", "Ok", lambda x: app.close_current_popup())
                Image:
					source: 'data/icons/maintenance_app.png'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: 120, 120
                    allow_stretch: True
            Button:
                id: garage-app-dashboard
                background_color:(0.9, 0.9, 0.9, 0.0)
                text: "\n\n\n\n\n\n\nMy Garage"
                font_size: 18
                on_release:   
                    app.basic_popup("Feature Not Available", "This feature will be released in later builds", "Ok", lambda x: app.close_current_popup())
                Image:
					source: 'data/icons/garage_app.png'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: 120, 120
                    allow_stretch: True
            #settings app
            Button:
                id: settings-app-dashboard
                background_color:(0.9, 0.9, 0.9, 0.0)
                text: "\n\n\n\n\n\n\nSettings"
                font_size: 18
                on_release:   
                    app.open_settings()
                Image:
					source: 'data/icons/settings_app.png'
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y
                    size: 120, 120
                    allow_stretch: True

<Gauge>:
    on_size: self.recalculate_lines()
    on_pos: self.recalculate_lines()
    on_fill_fraction: self.recalculate_lines()
    canvas:
        Color:
            rgba: 0.016, 0.141, 0.141, 1
        Line:
            points: self.line_points
            width: self.height * 0.03
        Color:
            rgba: 0.768, 0.039, 0, 1
        Line:
            points: self.filled_in_points
            width: self.height * 0.03

<NotificationPopup>:
    Label: 
        text: "yee"
        size_hint: 0.6, 0.2
        pos_hint: {"x":0.2, "top":1}
    Button:
        text: "You pressed the button"
        size_hint: 0.8, 0.2
        pos_hint: {"x":0.1, "y":0.1}

<GaugeSmall>:
    on_size: self.recalculate_lines()
    on_pos: self.recalculate_lines()
    on_fill_fraction: self.recalculate_lines()
    canvas:
        Color:
            rgba: 0.016, 0.141, 0.141, 1
        Line:
            points: self.line_points
            width: self.height * 0.03
        Color:
            rgba: 0.768, 0.039, 0, 1
        Line:
            points: self.filled_in_points
            width: self.height * 0.03


 
<HomeScreen>:
    name: 'home-screen'
    FloatLayout:
        NavBar:    
        AppDashboard:
    
           

      
 

         